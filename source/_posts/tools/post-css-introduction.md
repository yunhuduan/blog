---
title: postcss入门-介绍(1)
date: 2018-03-08 21:39:24
tags: 
	- postcss
    - css处理器
categories:
	- css
	- postcss
---
### 简介
> _A tool for transforming CSS with JavaScript_

这个是官网首页的简单介绍一句话:**一个使用JavaScript转换css的工具**
简而言之，PostCSS是CSS变成JavaScript的数据，使它变成可操作。PostCSS是基于JavaScript插件，然后执行代码操作。PostCSS自身并不会改变CSS，它只是一种插件，
为执行任何的转变铺平道路。本质上是没有很制PostCSS插件操纵CSS，也就是说它可以适用于任何CSS。只要你能想到的，你都可以编写一个PostCSS插件，让它来转成CSS。
PostCSS插件可以像预处理器，它们可以优化和autoprefix代码；可以添加未来语法；可以添加变量和逻辑；可以提供完整的网格系统；
可以提供编码的快捷方式......还有很多很多。
<!-- more -->
### css预处理器介绍
目前，在工程化开发中，使用最多的应该就是Less、Sass和Stylus。首先，还是介绍一下它们吧。它们有个统一的名字——css预处理器。何为CSS预处理器？
应该就是一种可以将你根据它的规则写出来的格式转成css的东西(还是讲的通俗一点)。它们的出现可以说是恰逢其时，解决了css的一些缺憾：

- 语法不够强大，不能够嵌套书写，不利于模块化开发
- 没有变量和逻辑上的复用机制，导致在css的属性值中只能使用字面量形式，以及不断重复书写重复的样式，导致难以维护。

面对以上问题，css预处理器给出了非常可行的解决方案：

1.变量：就像其他编程语言一样，免于多处修改。

- Sass：使用「$」对变量进行声明，变量名和变量值使用冒号进行分割
- Less：使用「@」对变量进行声明
- Stylus：中声明变量没有任何限定，结尾的分号可有可无，但变量名和变量值之间必须要有『等号』。但需要注意的是，如果用“@”符号来声明变量，Stylus会进行编译，但不会赋值给变量。就是说，Stylus 不要使用『@』声明变量。Stylus 调用变量的方法和Less、Sass完全相同。

2.作用域：有了变量，就必须得有作用域进行管理。就想js一样，它会从局部作用域开始往上查找变量。

- Sass：它的方式是三者中最差的，不存在全局变量的概念
- Less：它的方式和js比较相似，逐级往上查找变量
- Stylus：它的方式和Less比较相似，但是它和Sass一样更倾向于指令式查找

3.嵌套：对于css来说，有嵌套的写法无疑是完美的，更像是父子层级之间明确关系
- 三者在这处的处理都是一样的，使用「&」表示父元素

有了这些方案，会使得我们可以在保证DPY、可维护性、灵活性的前提下，编写css样式。
回到话题中，之所以会出现向预处理器这样子的解决方案，归根结底还是css标准发展的滞后性导致的。同时，我们也应该考虑一下，真的只要预处理器就够了吗？往往在项目过大时，由于缺乏模块的概念，
全局变量的问题会持续困扰着你。每次定义选择器时，总是要顾及到其他文件中是否也使用了同样的命名。毕竟项目是团队的，而不是个人的。哪是否有方式可以解决这些问题呢？

### 前人方法
对于css命名冲突的问题，由来已久，可以说我们前端开发人员，天天在苦思冥想，如何去优雅的解决这些问题。css并未像js一样出现了AMD、CMD和ES6 Module的模块化方案。

那么，回到问题，如何去解决呢？我们的前人也有提出过不同的方案：

- Object-Oriented CSS(没听过,网上找到的)
- BEM
- SMACSS(没听过,网上找到)
方案可以说是层出不穷，不乏有团队内部的解决方案。但是大多数都是一个共同点——为选择器增加前缀.
我们不妨来看看，使用BEM规范写出来的例子：

```html
<!-- 正确的。元素都位于 'search-form' 模块内 -->
<!-- 'search-form' 模块 -->
<form class="search-form">
    <!-- 在 'search-form' 模块内的 'input' 元素 -->
    <input class="search-form__input" />
    <!-- 在 'search-form' 模块内的 'button' 元素 -->
    <button class="search-form__button"></button>
</form>

<!-- 不正确的。元素位于 'search-form' 模块的上下文之外 -->
<!-- 'search-form' 模块 -->
<form class=""search-block>
</form>

<!-- 在 'search-form' 模块内的 'input' 元素 -->
<input class="search-form__input"/>

<!-- 在 'search-form' 模块内的 'button' 元素 -->
<button class="search-form__button"></button>

```
这种写法看着都会很累吧?


转自:https://segmentfault.com/a/1190000011595620

